(()=>{function e(){"/store/apps/details"===location.pathname&&chrome.runtime.sendMessage({action:"readyReadDetail"})}chrome.runtime.onMessage.addListener((function(e,t,n){"getItemDetail"===e.action?location.assign(e.url):"sendItemsDetail"===e.action&&function(e){const t=document.querySelector('div[id="developer-contacts"]').querySelectorAll("a.Si6A0c.RrSxVb"),n={...e,website:"",email:"",address:"",privacyPolicy:"",numberOfReviews:"",reviewRating:"",rateLevel:"",updatedOn:"",downLoads:"",note:""};for(let e=0;e<t.length;e++){let o=t[e].querySelector("div.xFVDSb").textContent,a=t[e].querySelector("div.pSEeg").textContent;switch(o){case"Website":n.website=a;break;case"Email":n.email=a;break;case"Address":n.address=a;break;case"Privacy policy":n.privacyPolicy=a}}const o=document.querySelector('div[itemprop="starRating"]');n.reviewRating=o?o.querySelector('div[class="TT9eCd"]').textContent:"",n.numberOfReviews=o?o.parentElement.nextElementSibling.textContent:"";const a=document.querySelectorAll('div[class="wVqUob"]');for(let e=0;e<a.length;e++)a[e].children[1]&&"Downloads"===a[e].children[1].textContent&&(n.downLoads=a[e].children[0].textContent);const r=document.querySelector('span[itemprop="contentRating"]');n.rateLevel=r?r.textContent:"";const i=document.querySelector('div[class="xg1aie"]');n.updatedOn=i?i.textContent:"";const c=document.querySelector('div[class="ulKokd"]');n.note=c?c.textContent:"";const s=document.querySelectorAll('a[class="Si6A0c nT2RTe"]'),d=[];for(let e=0;e<s.length;e++){const t=s[e],n=t.querySelector("span.DdYX5").textContent,o=t.getAttribute("href"),a={id:o.split("?id=")[1],name:n,storeUrl:o};d.push(a)}chrome.runtime.sendMessage({action:"sendItemDetail",data:n,similarApps:d})}(e.data)})),"loading"===document.readyState?document.addEventListener("DOMContentLoaded",e()):e()})();